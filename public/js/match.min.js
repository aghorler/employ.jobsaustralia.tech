function printApplicant(e,n,t,a){var l=document.getElementById("applicants"),o=document.createElement("div");o.className="panel panel-default";var c=document.createElement("div");c.className="panel-heading",c.innerHTML+=n+" &bull; ";var i=document.createElement("strong");i.innerHTML=a+"&#37;";var d=document.createElement("div");d.className="panel-body";var p=document.createElement("p");p.innerHTML=t;var r=document.createElement("hr"),s=document.createElement("p"),m=document.createElement("a");m.className="btn btn-primary",m.href="/application/"+e,m.innerHTML="View",o.appendChild(c),o.appendChild(d),c.append(i),d.append(p),d.append(r),d.append(s),s.append(m),l.appendChild(o),document.getElementById("loading").style.display="none"}function match(){var e,n,t,a=document.getElementById("jobID").value,l=document.getElementsByName("csrf-token")[0].content,o=[],c=[],i=[],d=[],p=[],r=[];$.getJSON("/api/job/"+a+"/token/"+l,function(a){e=[a.java,a.python,a.c,a.csharp,a.cplus,a.php,a.html,a.css,a.javascript,a.sql,a.unix,a.winserver,a.windesktop,a.linuxdesktop,a.macosdesktop,a.pearl,a.bash,a.batch,a.cisco,a.office,a.r,a.go,a.ruby,a.asp,a.scala];for(var l=0;l<e.length;l++)1==e[l]&&o.push(l);n=a.minexperience,t=a.mineducation,r[0]=a.rankone,r[1]=a.ranktwo,r[2]=a.rankthree}).then(function(){$.getJSON("/api/applicants/job/"+a+"/token/"+l,function(e){if(e.length>0){for(E=0;E<e.length;E++){p[E]=e[E],c[E]=E,i[E]=[e[E].java,e[E].python,e[E].c,e[E].csharp,e[E].cplus,e[E].php,e[E].html,e[E].css,e[E].javascript,e[E].sql,e[E].unix,e[E].winserver,e[E].windesktop,e[E].linuxdesktop,e[E].macosdesktop,e[E].pearl,e[E].bash,e[E].batch,e[E].cisco,e[E].office,e[E].r,e[E].go,e[E].ruby,e[E].asp,e[E].scala];var a=e[E].experience,l=e[E].education;expMatch=a>=n?1:0,eduMatch=l>=t?1:0;var s,m=0;for(s=0;s<o.length;s++){var u=o[s];1==i[E][u]&&m++}var y,h=m/o.length,g=[];for(y=0;y<r.length;y++)g[y]=r[y];var v;for(v=0;v<g.length;v++)"experience"==g[v]?g[v]=expMatch:"education"==g[v]?g[v]=eduMatch:"skills"==g[v]&&(g[v]=h);d[E]=100*(.4*g[0]+.35*g[1]+.25*g[2])}var f;do{f=!1;var E;for(E=0;E<c.length-1;E++)if(d[E]<d[E+1]){var b=d[E];d[E]=d[E+1],d[E+1]=b;var k=c[E];c[E]=c[E+1],c[E+1]=k;var B=i[E];i[E]=i[E+1],i[E+1]=B,f=!0}}while(f)}}).then(function(){if(p.length>0){var e;for(e=0;e<p.length;e++){var n=c[e];printApplicant(p[n].applicationid,p[n].name,p[n].message,Math.round(d[e]))}}else document.getElementById("loading").style.display="none",document.getElementById("noapplicants").style.display="block"}).fail(function(){document.getElementById("loading").style.display="none",document.getElementById("error").style.display="block"})}).fail(function(){document.getElementById("loading").style.display="none",document.getElementById("error").style.display="block"})}function init(){document.getElementById("applicants").innerHTML="",document.getElementById("noscript").style.display="none",document.getElementById("noapplicants").style.display="none",document.getElementById("error").style.display="none",document.getElementById("loading").style.display="block",match()}document.addEventListener("DOMContentLoaded",init);
